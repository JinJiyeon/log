## [04_Linuxì™€ Shell Programing](./04_Linux)

- ëª©ì  : ë¦¬ëˆ…ìŠ¤ ì„œë²„ì— ëŒ€í•´ ì´í•´í•˜ì
- ê¸°ê°„ : 2022/08/08 ~ 2022/08/14
- Ref
  - ì±… <UNIX/Linux ì‹œìŠ¤í…œ ê´€ë¦¬ìë¥¼ ìœ„í•œ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ í™œìš© ê°€ì´ë“œ>



## ì•„í‚¤í…ì³

- ì ‘ê·¼ ê¶Œí•œê³¼ chmod

  - ì ‘ê·¼ ê¶Œí•œ

    ğŸ”´ ğŸŸ¡ğŸŸ¡ğŸŸ¡ ğŸ”µğŸ”µğŸ”µ ğŸŸ£ğŸŸ£ğŸŸ£

    - ğŸ”´ : íŒŒì¼ì˜ ìœ í˜•, ğŸŸ¡ : user, ğŸ”µ : group, ğŸŸ£ : others

    - íŒŒì¼ì˜ ìœ í˜• : { d : directory, l : link, - : normal file }

    - ê¶Œí•œì˜ ìœ í˜• : { r : read, w : write, x : exec }

    - ê¶Œí•œì„ 8 bitë¡œ í‘œí˜„í•˜ê¸°ë„ í•œë‹¤.

      eg) `drwxr-xr-x` : 0755, `-rw-r--r--` : 0644

      

  - ëª…ë ¹ì–´

    ```linux
    # ì ‘ê·¼ê¶Œí•œ í™•ì¸
    ls -l /test_directory | less
    
    # ê¶Œí•œì„ ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ chmod
    chmod u+x, go+r test_file
    
    # ê¸°ë³¸ê°’ì„ ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ umask
    umask 0022
    ```

    

  - íŠ¹ìˆ˜ ê¶Œí•œ

    - setuid, setgid, sticky bit ê°€ ìˆë‹¤.
      exec ìë¦¬ì— x ëŒ€ì‹  s, s, të¡œ í‘œì‹œëœë‹¤.
      bitë¡œ í‘œí˜„í•˜ë©´ 4000, 2000, 1000 ì´ë‹¤.
    - setuid
      - í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ë©´ ì†Œìœ ì idë¡œ ì ì‹œ ë³€ê²½ëœë‹¤.
      - root ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” íŒŒì¼ì´ë‚˜ ëª…ë ¹ì—, ì¼ë°˜ ì‚¬ìš©ìë¡œ ì ‘ê·¼í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤.
    - sticky bit
      - ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, íŒŒì¼ ì‚­ì œì™€ ì´ë¦„ ë³€ê²½ì€ root ë§Œ í•  ìˆ˜ ìˆë‹¤.

  - ëª…ë ¹ì–´

    ```linux
    # setuidê°€ 4000ì¸ íŒŒì¼ ì°¾ê¸°
    find /test_route -type f -perm 4000
    sudo find /test_route -user root -perm 4000
    
    # setuid ì„¤ì •í•˜ê¸°
    sudo chmod u+s test_file
    ```

    

- file descriptorì™€ redirection

  - file descriptor 

    - ê° í”„ë¡œì„¸ìŠ¤ëŠ” descriptor ë¥¼ ê°–ê³  ìˆë‹¤.

    - ê¸°ë³¸ì ìœ¼ë¡œ { 0: stdin, 1: stdout, 2: stderr }ë¥¼ ê°–ê³  ìˆê³  ì¶”ê°€ëœë‹¤.

  - êº½ì‡ ì˜ ë°©í–¥ê³¼ ê°œìˆ˜

    - command > file : ë®ì–´ì“°ê¸°

    - comman >> file : ì´ì–´ì“°ê¸°
    - command < file : ë¶ˆëŸ¬ì˜¤ê¸°

  - ëª…ë ¹ì–´

    ```linux
    echo hello > test_file
    ls -l | grep zip >> test_file
    cat < test_file
    ```



- ì£¼ìš” ëª…ë ¹ì–´
  - find : íŒŒì¼ ì°¾ê¸°
  - grep : regex ë¡œ íŒŒì¼ ì°¾ê¸°
  - sed : ìŠ¤íŠ¸ë¦¬ë° í¸ì§‘ê¸°
  - awk : ë¦¬ëˆ…ìŠ¤ì˜ pandas



## ì‹¤ìŠµ

- ì£¼ì˜ì‚¬í•­
  - shëŠ” #!/bin/sh ë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.
  - shëŠ” = ì „í›„ì— ê³µë°±ì—†ì´ ì…ë ¥í•´ì•¼ í•œë‹¤.
  - awk 'condition {action}'
  - ë³€ìˆ˜ í™•ì¥ ' ' (X),  " " (O)

- ì‹œìŠ¤í…œ ê´€ë¦¬
  - 0501) ëŒ€ìš©ëŸ‰ íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ ì ê²€í•˜ê¸°
  - 0502) user ê³„ì • ì ê¸ˆí•˜ê¸°
  - 0503) ì¬ë¶€íŒ… ì‹œ í•´ë‹¹ ì‹œì ìœ¼ë¡œ ë³µêµ¬í•˜ê¸°

- ì‹œìŠ¤í…œ ë³´ì•ˆ
  - 0601) setuid + root ì†Œìœ ì¸ íŒŒì¼ ì°¾ê¸°
    